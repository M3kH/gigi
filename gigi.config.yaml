# Gigi Configuration
# Secrets go in env vars, structure goes here.
# Supports env var interpolation: ${VAR_NAME} and ${VAR_NAME:-default}

backup:
  sources:
    # Back up all repos in the "idea" org
    - org: idea

  targets:
    # Git mirror to git.lab.local (secondary Gitea)
    - type: git-mirror
      name: git-lab-mirror
      url: ${MIRROR_GIT_URL:-http://git.lab.local:3000}
      auth: token
      token: ${MIRROR_GIT_TOKEN}
      api_token: ${MIRROR_GIT_TOKEN}
      create_repos: true

  schedule:
    interval: ${BACKUP_INTERVAL:-6h}
    before_deploy: true
