# Gigi Configuration
# Secrets go in env vars, structure goes here.
# Supports env var interpolation: ${VAR_NAME} and ${VAR_NAME:-default}

# ── Agent Configuration ──────────────────────────────────────────────
# Customize the agent's identity and behavior.
# All fields are optional — sensible defaults are used if omitted.

agent:
  # Agent display name (used in prompts and git commits)
  name: ${AGENT_NAME:-Gigi}
  # Short description/role shown in the system prompt
  description: ${AGENT_DESCRIPTION:-a persistent AI coordinator}
  # Gitea organization for repo operations
  org: ${GITEA_ORG:-acme}
  # Git identity for the agent (used as Co-Authored-By when author override is set)
  git:
    name: ${AGENT_GIT_NAME:-Gigi}
    email: ${AGENT_GIT_EMAIL:-gigi@localhost}
    # Optional: override the commit author (operator identity).
    # When set, commits are authored as this identity and the agent
    # appears only as Co-Authored-By. Omit to have the agent be the committer.
    # author:
    #   name: ${GIT_AUTHOR_NAME:-}
    #   email: ${GIT_AUTHOR_EMAIL:-}
  # Optional: path to an extra prompt file for dev-specific or deployment-specific sections
  # Mount a file via Docker and set AGENT_EXTRA_PROMPT_FILE to its path
  # This enables "dev" vs "generic" prompt profiles without changing gigi.config.yaml
  extra_prompt_file: ${AGENT_EXTRA_PROMPT_FILE:-}

# ── Backup Configuration ─────────────────────────────────────────────

backup:
  sources:
    # Back up all repos in the configured org
    - org: ${GITEA_ORG:-idea}

  targets:
    # Git mirror to secondary Gitea (optional)
    - type: git-mirror
      name: git-mirror
      url: ${MIRROR_GIT_URL:-}
      auth: token
      token: ${MIRROR_GIT_TOKEN}
      api_token: ${MIRROR_GIT_TOKEN}
      create_repos: true

  schedule:
    interval: ${BACKUP_INTERVAL:-6h}
    before_deploy: true
