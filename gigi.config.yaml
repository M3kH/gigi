# Gigi Configuration
# Secrets go in env vars, structure goes here.
# Supports env var interpolation: ${VAR_NAME} and ${VAR_NAME:-default}

backup:
  sources:
    # Back up all repos in the "idea" org
    - org: idea

  targets:
    # Git mirror to secondary Gitea (optional)
    - type: git-mirror
      name: git-mirror
      url: ${MIRROR_GIT_URL:-}
      auth: token
      token: ${MIRROR_GIT_TOKEN}
      api_token: ${MIRROR_GIT_TOKEN}
      create_repos: true

  schedule:
    interval: ${BACKUP_INTERVAL:-6h}
    before_deploy: true
